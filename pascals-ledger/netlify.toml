[build]
  command = "npm run build"
  publish = ".next"

[build.environment]
  NODE_VERSION = "20.19.5"
  # Omit NEXT_PUBLIC_* from secret scanning - these are intentionally public in Next.js
  SECRETS_SCAN_OMIT_KEYS = "NEXT_PUBLIC_APP_URL,NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY"

[[plugins]]
  package = "@netlify/plugin-nextjs"

[functions]
  node_bundler = "esbuild"

# Environment variables (set these in Netlify UI)
# DATABASE_URL
# JWT_SECRET
# STRIPE_SECRET_KEY
# STRIPE_WEBHOOK_SECRET
# NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY
# NEXT_PUBLIC_APP_URL
# OPENWEATHER_API_KEY
# NEXT_PUBLIC_TESTING_MODE - Set to 'false' to hide testing banners (default: shows banner)
