[build]
  command = "npm run build"
  publish = ".next"

# Disable secret scanning - NEXT_PUBLIC_* vars are intentionally public in Next.js
[build.processing]
  skip_processing = false
[build.processing.secrets]
  enabled = false

[build.environment]
  NODE_VERSION = "20.19.5"

[[plugins]]
  package = "@netlify/plugin-nextjs"

[functions]
  node_bundler = "esbuild"

# Environment variables (set these in Netlify UI)
# DATABASE_URL
# JWT_SECRET
# STRIPE_SECRET_KEY
# STRIPE_WEBHOOK_SECRET
# NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY
# NEXT_PUBLIC_APP_URL
# OPENWEATHER_API_KEY
